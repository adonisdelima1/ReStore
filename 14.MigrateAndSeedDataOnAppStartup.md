# Using Program.cs class to migrate and seed data on/during app startup 
1. Implementations on Program.cs class to make it initialize the db and seed data. See commits history. The following code block should be added on Program.cs before ``app.run()``: 

```C#  
var scope = app.Services.CreateScope(); 
var context = scope.ServiceProvider.GetRequiredService<StoreContext>(); 
var logger = scope.ServiceProvider.GetRequiredService<ILogger<Program>>(); 
try
{
    context.Database.Migrate(); 
    DbInitializer.Initialize(context);
}
catch (Exception ex)
{
    logger.LogError(ex, "A problem occurred during migration");
}
```  
   
2.  Be sure that the connection string on appsettings is ok and then run ``dotnet ef database drop`` to be sure that when we run ``dotnet run`` everything will be created from zero. 

3. If didn't do it yet run``dotnet run`` to start the app 



**Continues on [15.ControllerToReturnProductList](./15.ControllerToReturnProductList.md)**